<div class="modal-header" ng-init="resize()">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
            ng-click="$close(result)">&times;</button>
    <h4 class="modal-title" id="myModalLabel">Change Password</h4>
</div>
<div class="modal-body" style="overflow-y:auto">
    <form role="form" class="form" name="changePasswordForm" novalidate>
        <div class="form-group">
            <label>Current Password <sup>*</sup></label>
            <input type="password" name="current_password" class="form-control input-sm"
                   focus-on="defaultFocus"
                   ng-init="focus('defaultFocus')"
                   ng-model="changePassword.current_password"
                   maxlength="45"
                   autocomplete="off"
                   value=""
                   required>
            <label class="errorMsg" ng-show="changePasswordForm.current_password.$error.required">Current Password is
                required.</label>
        </div>

        <div class="form-group">
            <label>New Password <sup>*</sup></label>
            <input type="password" name="new_password" class="form-control input-sm"
                   ng-init="focus('defaultFocus')"
                   ng-model="changePassword.new_password"
                   ng-pattern="/^(?=(.*\d){1})(?=.*([a-z]){1})(?=.*([A-Z]){1}).{6,8}/"
                   maxlength="8"
                   autocomplete="off"
                   value=""
                   required>
            <label class="errorMsg" ng-show="changePasswordForm.new_password.$error.required">Password is
                required.</label>
            <label class="errorMsg" ng-show="changePasswordForm.new_password.$error.pattern">Password should be 6-8
                characters with at least 1 digit, 1 lower case and 1 upper case character.</label>

        </div>

        <div class="form-group">
            <label>Confirm New Password <sup>*</sup></label>
            <input type="password" name="confirm_password" class="form-control input-sm"
                   ng-init="focus('defaultFocus')"
                   ng-model="changePassword.confirm_password"
                   maxlength="8"
                   required>
            <label class="errorMsg" ng-show="changePasswordForm.confirm_password.$error.required">Password confirmation
                is required.</label>
            <label class="errorMsg"
                   ng-show="!(changePasswordForm.confirm_password.$error.required) && !comparePasswords(changePassword.new_password, changePassword.confirm_password)">Confirm
                password should match with password.</label>
        </div>
    </form>
</div>

<div class="modal-footer">
    <button type="button" class="btn btn-primary" ng-click="changePassword()"
            ng-disabled="changePasswordForm.$invalid || !comparePasswords(changePassword.new_password, changePassword.confirm_password)">
        Change Password
    </button>
    <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>
</div>